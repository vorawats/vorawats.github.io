!function(e){var t=!0,a=1,i="",o=0;function r(t){var a=t.find(".uael-post-wrapper"),i=t.find(".slick-active"),o=-1,r=-1,d=-1;"yes"==t.data("equal-height")&&(i.each(function(t){var a=e(this),i=a.outerHeight(),n=a.find(".uael-post__bg-wrap").outerHeight();o<n&&(d=(o=n)+15),r<i&&(r=i)}),i.each(function(t){e(this).find(".uael-post__bg-wrap").animate({height:o},{duration:200,easing:"linear"})}),t.find(".slick-list.draggable").animate({height:d},{duration:200,easing:"linear"}),o=-1,r=-1,a.each(function(){var e=jQuery(this),t=e.find(".uael-post__bg-wrap"),a=t.outerHeight();if(e.hasClass("slick-active"))return!0;t.css("height",a)}))}var d=function(e,d){if(void 0!==e){var l=e.find(".uael-post-grid__inner");if(!(l.length<1)){i=e.find(".uael-post-inf-loader");var u=e.find(".uael-filters-dropdown-list");d("html").on("click",function(){u.removeClass("show-list")}),e.on("click",".uael-filters-dropdown-button",function(e){e.stopPropagation(),u.toggleClass("show-list")});var f=e.find(".uael-post-grid");if(layout=f.data("layout"),structure=f.data("structure"),"masonry"==structure&&e.imagesLoaded(function(e){l.isotope({layoutMode:layout,itemSelector:".uael-post-wrapper"})}),e.find(".uael-post__header-filter").off("click").on("click",function(t){$this=d(this),$this.siblings().removeClass("uael-filter__current"),$this.addClass("uael-filter__current");var i=$this.attr("data-filter"),o="";"*"===i?f.data("filter-default"):i.substr(1),o=f.data("default-filter")?f.data("default-filter"):f.data("filter-default");var r=e.find(".uael-filter__current").text();r=r.substring(o.length,r.length),e.find(".uael-filters-dropdown-button").text(r),a=1,n(e,$this)}),e.find(".uael-post__header-filter").off("keyup").on("keyup",function(t){if($this=d(this),9==t.keyCode){$this.siblings().removeClass("uael-filter__current"),$this.addClass("uael-filter__current");var i=$this.attr("data-filter"),o="";"*"===i?f.data("filter-default"):i.substr(1),o=f.data("default-filter")?f.data("default-filter"):f.data("filter-default");var r=e.find(".uael-filter__current").text();r=r.substring(o.length,r.length),e.find(".uael-filters-dropdown-button").text(r),a=1}13===t.keyCode&&n(e,$this)}),e.find(".uael-post__header").children().length>0){var p=e.find(".uael-post-grid").data("default-filter"),c=window.location.hash.substring(1),g=new RegExp("^[\\w\\-]+$");""!==c&&g.test(c)&&e.find(".uael-post__header-filter").each(function(e,t){var a=d(this),i=a.attr("data-filter");c==i.split(".").join("")&&(a.trigger("click"),a.trigger("keyup"))}),void 0!==p&&""!=p&&e.find(".uael-post__header-filter").each(function(e,t){var a=d(this);p==a.text()&&(a.trigger("click"),a.trigger("keyup"))})}if("carousel"==structure){var _=e.find(".uael-post-grid"),h=_.find(".uael-post-grid__inner"),v=_.data("post_slider");e.imagesLoaded(function(){h.slick(v),r(_)}),_.on("afterChange",function(){r(_)}),d(window).on("resize",function(){d("#log").append("<div>Handler for .resize() called.</div>")})}if(l.hasClass("uael-post-infinite-scroll")&&l.hasClass("uael-post-infinite__event-scroll")){if("main"==e.find(".uael-post-grid").data("query-type"))return;var m=jQuery(window).outerHeight()/1.25;d(window).on("scroll",function(){if(elementorFrontend.isEditMode())return i.show(),!1;if(d(window).scrollTop()+m>=e.find(".uael-post-wrapper:last").offset().top){var r={page_id:e.find(".uael-post-grid").data("page"),widget_id:e.data("id"),filter:e.find(".uael-filter__current").data("filter"),skin:e.find(".uael-post-grid").data("skin"),page_number:e.find(".uael-post__footer .uael-grid-pagination").data("next-page")};o=e.find(".uael-post__footer .uael-grid-pagination").data("total"),1==t&&a<o&&(i.show(),s(e,r,!0),a++,t=!1)}})}}}};e(document).on("click",".uael-post__load-more",function(r){if($scope=e(this).closest(".elementor-widget-uael-posts"),"main"!=$scope.find(".uael-post-grid").data("query-type")){if(r.preventDefault(),elementorFrontend.isEditMode())return i.show(),!1;var d={page_id:$scope.find(".uael-post-grid").data("page"),widget_id:$scope.data("id"),filter:$scope.find(".uael-filter__current").data("filter"),skin:$scope.find(".uael-post-grid").data("skin"),page_number:a+1};o=$scope.find(".uael-post__footer .uael-grid-pagination").data("total"),1==t&&a<o&&(i.show(),e(this).hide(),s($scope,d,!0),a++,t=!1)}}),e("body").on("click",".uael-grid-pagination .page-numbers",function(t){$scope=e(this).closest(".elementor-widget-uael-posts");var a=$scope.find(".uael-post-grid");if("main"!=a.data("query-type")){t.preventDefault(),$scope.find(".uael-post-grid .uael-post-wrapper").last().after('<div class="uael-post-loader"><div class="uael-loader"></div><div class="uael-loader-overlay"></div></div>');var i=1,o=parseInt($scope.find(".uael-grid-pagination .page-numbers.current").html()),r=e(this);i=r.hasClass("next")?o+1:r.hasClass("prev")?o-1:r.html(),$scope.find(".uael-post-grid .uael-post-wrapper").last().after('<div class="uael-post-loader"><div class="uael-loader"></div><div class="uael-loader-overlay"></div></div>');var d={page_id:a.data("page"),widget_id:$scope.data("id"),filter:$scope.find(".uael-filter__current").data("filter"),skin:a.data("skin"),page_number:i},n=a.data("offset-top");""!=a.data("filter-default")&&(n=$scope.find(".uael-post__header-filters").outerHeight()+parseFloat($scope.find(".uael-post__header .uael-post__header-filters-wrap").css("marginBottom"))),e("html, body").animate({scrollTop:$scope.find(".uael-post__body").offset().top-n},"slow"),s($scope,d)}});var n=function(e,t){e.find(".uael-post-grid .uael-post-wrapper").last().after('<div class="uael-post-loader"><div class="uael-loader"></div><div class="uael-loader-overlay"></div></div>');var a={page_id:e.find(".uael-post-grid").data("page"),widget_id:e.data("id"),filter:t.data("filter"),skin:e.find(".uael-post-grid").data("skin"),page_number:1};s(e,a)},s=function(r,d,n){e.ajax({url:uael_posts_script.ajax_url,data:{action:"uael_get_post",page_id:d.page_id,widget_id:d.widget_id,category:d.filter,skin:d.skin,page_number:d.page_number,nonce:uael_posts_script.posts_nonce},dataType:"json",type:"POST",success:function(e){r.find(".uael-post-loader").remove();var s=r.find(".uael-post-grid__inner");if("news"==d.skin&&(s=r.find(".uael-post-grid")),1==n){var l=e.data.html;l=l.replace("uael-post-wrapper-featured",""),s.append(l)}else s.html(e.data.html);r.find(".uael-post__footer").html(e.data.pagination);var u=r.find(".uael-post-grid").data("layout"),f=r.find(".uael-post-grid").data("structure"),p=r.find(".uael-post-grid__inner");"normal"!=f&&"masonry"!=f||""==u||r.imagesLoaded(function(e){p.isotope("reloadItems"),p.isotope({layoutMode:u,itemSelector:".uael-post-wrapper",animate:!1})}),t=!0,1==n&&(i.hide(),r.find(".uael-post__load-more").show()),a==o&&r.find(".uael-post__load-more").hide()}})};e(window).on("elementor/frontend/init",function(){elementorFrontend.hooks.addAction("frontend/element_ready/uael-posts.classic",d),elementorFrontend.hooks.addAction("frontend/element_ready/uael-posts.event",d),elementorFrontend.hooks.addAction("frontend/element_ready/uael-posts.card",d),elementorFrontend.hooks.addAction("frontend/element_ready/uael-posts.feed",d),elementorFrontend.hooks.addAction("frontend/element_ready/uael-posts.news",d),elementorFrontend.hooks.addAction("frontend/element_ready/uael-posts.business",d)})}(jQuery);